<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Manage Subscription Plans</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background:#f7f7f7; }
    .plan-card { border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1); margin:15px; padding:20px; transition:0.2s; }
    .plan-card:hover { transform:scale(1.02); }
  </style>
</head>
<body>
<div class="container mt-4">
  <h2 class="mb-4 text-center">Subscription Plans</h2>

  <!-- Add Plan Button -->
  <div class="text-right mb-3">
    <a href="{% url 'subscription_add' %}" class="btn btn-success">+ Add Subscription Plan</a>
  </div>

  <!-- Cards View -->
  <div class="row">
    {% for plan in plans %}
      <div class="col-md-4">
        <div class="plan-card bg-white text-center">
          <h4>{{ plan.name }}</h4>
          <p class="h5 text-primary">₹{{ plan.price }} / month</p>
          {% if plan.max_listings %}
            <p><strong>{{ plan.max_listings }}</strong> listings</p>
          {% else %}
            <p><strong>Unlimited</strong> listings</p>
          {% endif %}
          <ul class="list-unstyled">
            <li>Featured: {{ plan.featured|yesno:"Yes,No" }}</li>
            <li>Placement: {{ plan.placement|yesno:"Yes,No" }}</li>
            <li>Verified: {{ plan.verified|yesno:"Yes,No" }}</li>
            <li>Exclusive: {{ plan.exclusive|yesno:"Yes,No" }}</li>
            <li>Video Upload: {{ plan.video_upload|yesno:"Yes,No" }}</li>
          </ul>
        </div>
      </div>
    {% empty %}
      <div class="col-12 text-center text-muted">No subscription plans created yet.</div>
    {% endfor %}
  </div>

  <!-- Table View -->
  <h4 class="mt-5">All Plans (Table View)</h4>
  <table class="table table-bordered bg-white mt-2">
    <thead class="thead-dark">
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Max Listings</th>
        <th>Featured</th>
        <th>Placement</th>
        <th>Verified</th>
        <th>Exclusive</th>
        <th>Video Upload</th>
      </tr>
    </thead>
    <tbody>
      {% for plan in plans %}
        <tr>
          <td>{{ plan.name }}</td>
          <td>₹{{ plan.price }}</td>
          <td>{% if plan.max_listings %}{{ plan.max_listings }}{% else %}Unlimited{% endif %}</td>
          <td>{{ plan.featured|yesno:"Yes,No" }}</td>
          <td>{{ plan.placement|yesno:"Yes,No" }}</td>
          <td>{{ plan.verified|yesno:"Yes,No" }}</td>
          <td>{{ plan.exclusive|yesno:"Yes,No" }}</td>
          <td>{{ plan.video_upload|yesno:"Yes,No" }}</td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="8" class="text-center text-muted">No plans found.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
</body>
</html>
