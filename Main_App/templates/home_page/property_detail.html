<h2>{{ listing.title }}</h2>
<p>{{ listing.description }}</p>
{% if owner_visible %}
  <div class="alert alert-success">
    <b>Owner Name: </b> {{ listing.owner_name }}<br>
    <b>Owner Mobile: </b> {{ listing.owner_mobile }}
  </div>
{% else %}
  <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#viewOwnerModal">View Owner Details</button>
  <!-- Modal for Visitor Details form -->
  <div class="modal fade" id="viewOwnerModal" tabindex="-1">
    <div class="modal-dialog">
      <form method="post" class="modal-content">
        {% csrf_token %}
        <div class="modal-header">View Owner Details</div>
        <div class="modal-body">
          <div class="mb-3"><input class="form-control" name="name" placeholder="Your Name" required></div>
          <div class="mb-3"><input class="form-control" name="mobile" placeholder="Your Mobile" required></div>
          <div class="form-check mb-3"><input class="form-check-input" type="checkbox" name="consent" required> <label class="form-check-label">Accept Terms to View Mobile/Name</label></div>
        </div>
        <div class="modal-footer"><button class="btn btn-primary">Submit &amp; Reveal</button></div>
      </form>
    </div>
  </div>
{% endif %}