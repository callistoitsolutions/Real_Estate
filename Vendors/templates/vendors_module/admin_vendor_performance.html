<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

<div class="container py-4">

    <h3 class="fw-bold mb-4 text-primary">
        <i class="bi bi-bar-chart-line-fill"></i> Vendor Performance Overview
    </h3>

    <div class="table-responsive shadow rounded-3">
        <table class="table table-bordered table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Vendor</th>
                    <th>City</th>
                    <th>Total Leads</th>
                    <th>Accepted</th>
                    <th>Revenue</th>
                    <th>Commission %</th>
                    <th>Inhouse</th>
                    <th>RM Candidate</th>
                </tr>
            </thead>

            <tbody>
                {% for v in vendors %}
                <tr>
                    <td class="fw-semibold">{{ v.business_name }}</td>
                    <td>{{ v.city }}</td>

                    <!-- Total Leads -->
                    <td class="fw-bold text-primary">
                        {{ v.total_leads }}
                    </td>

                    <!-- Accepted Leads -->
                    <td class="fw-bold text-success">
                        {{ v.accepted_leads }}
                    </td>

                    <!-- Revenue -->
                    <td class="fw-semibold">
                        â‚¹{{ v.cumulative_revenue }}
                    </td>

                    <!-- Commission -->
                    <td class="text-center">
                        <span class="badge bg-info text-dark px-3 py-2">
                            {{ v.commission_rate|default:"60" }}%
                        </span>
                    </td>

                    <!-- Inhouse -->
                    <td class="text-center">
                        {% if v.is_inhouse %}
                            <i class="bi bi-check-circle-fill text-success fs-5"></i>
                        {% else %}
                            <i class="bi bi-x-circle-fill text-danger fs-5"></i>
                        {% endif %}
                    </td>

                    <!-- RM Candidate -->
                    <td class="text-center">
                        {% if v.is_rm_candidate %}
                            <i class="bi bi-person-check-fill text-success fs-5"></i>
                        {% else %}
                            <i class="bi bi-person-x-fill text-danger fs-5"></i>
                        {% endif %}
                    </td>

                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>
