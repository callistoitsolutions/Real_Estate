{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Property</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="card mb-3 border-primary">
      <div class="card-header bg-primary text-white">Property Basic  Details</div>
      <div class="card-body">
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="fullName">Property Type<span style="color:red;">*</span></label>
             <select class="form-control" id="gender" name="property_type">

            <option>PG for Boys</option>
                                                        <option>PG for Girls</option>
                                                        <option>Co-living</option>
             </select>
          </div>


          <div class="form-group col-md-4">
            <label for="phoneNumber">City<span style="color:red;">*</span></label>
            <input type="text" class="form-control" name="city" id="phoneNumber" placeholder="e.g.Nagpur">
          </div>
          <div class="form-group col-md-4">
            <label for="dob">Area/Locality<span style="color:red;">*</span></label>
            <input type="text" class="form-control" id="dob" name="area_locality" placeholder="e.g.Manish Nagar T Point Nagpur">
          </div>
        </div>

         <div class="form-row">
        
          <div class="form-group col-md-12">
  <label for="propertyAddress">Property Address <span style="color:red;">*</span></label>
  <textarea class="form-control" id="propertyAddress" rows="3" 
            placeholder="e.g., Medical Sqaure, Near VR Mall, Nagpur" name="address"></textarea>
</div>

        </div>
        <div class="form-row">
         <div class="form-group col-md-4">
            <label for="email">Furnishing Type <span style="color:red;">*</span></label>
             <select class="form-control" id="gender" name="Furnished">
               <option>Select Type</option>
              <option>Furnished</option>
              <option>Semi-Furnished</option>
              <option>Unfurnished</option>
             
              
            </select>
          </div>
          <div class="form-group col-md-4">
           

             <label for="email">Sharing  Type <span style="color:red;">*</span></label>
             <select class="form-control" id="gender" name="sharing">
               <option>Select Type</option>
              <option>Single</option>
                                                        <option>Double</option>
                                                        <option>Triple</option>
                                                        <option>More</option>
             
              
            </select>
          </div>
          <div class="form-group col-md-4">
               <label for="email">Meals Included? <span style="color:red;">*</span></label>
             <div class="custom-control custom-checkbox">
                          <input class="custom-control-input" type="checkbox" id="customCheckbox1" name="custom_options[]" value="option1">
                          <label for="customCheckbox1" class="custom-control-label"></label>
                        </div>
          </div>
        </div>


          <div class="form-row">
         
            <div class="form-group col-md-4">
  <label for="zone">Meal Type<span style="color:red;">*</span></label>
  
   <select class="form-control" id="gender" name="meal_type">
               <option>Select Type</option>
              <option>Veg</option>
                                                            <option>Non-Veg</option>
                                                            <option>Both</option>
            </select>
</div>
          <div class="form-group col-md-4">
            <label for="city">Minimum Stay (months)<span style="color:red;">*</span></label>
          
               <input type="number" class="form-control" id="dob" name="minimum_stay" placeholder="e.g.3">
          </div>
        

           <div class="form-group col-md-4">
            <label for="email">Available From<span style="color:red;">*</span> </label>
            <input type="date" class="form-control" id="exampleInputPassword1" name="available_from" placeholder="e.g.2-8-2025">
             
              
            
          </div>
        </div>
      </div>
    </div>

       

        <!-- Rent Details -->
        <div class="card mb-3 border-info">
            <div class="card-header bg-primary text-white">Rent Details</div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="rent_price">Rent Per Bed<span style="color:red;">*</span></label>
                        <input type="number" class="form-control" id="rent_price" name="rent_price" placeholder="e.g.₹1200">
                    </div>
                    <div class="col-md-4">
                        <label for="security_deposit">Security Deposit<span style="color:red;">*</span></label>
                        <input type="number" class="form-control" id="security_deposit" name="security_deposit" placeholder="e.g.₹2000">
                    </div>
                  
                </div>
            </div>
        </div>

        <!-- Upload Images -->
        <div class="card mb-3 border-info">
            <div class="card-header bg-primary text-white">Upload Property Images & Documents</div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="property_images">Upload Property Images<span style="color:red;">*</span></label>
                        <input type="file" class="form-control" id="property_images" name="property_images" multiple>
                    </div>
                    <div class="col-md-6">
                        <label for="floor_plan">Upload Floor Plan (PDF/JPG)<span style="color:red;">*</span></label>
                        <input type="file" class="form-control" id="floor_plan" name="floor_plan">
                    </div>
                </div>
            </div>
        </div>

        <!-- Featured & Verified Property -->
        <div class="card mb-3 border-success">
            <div class="card-header bg-primary text-white">Featured & Verified Property</div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="featuredSelect">Featured</label>
                        <select class="form-control" id="featuredSelect" name="is_featured">
                            <option selected disabled>Select Type</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-4" id="featuredFields" style="display:none;">
                        <label for="daysSelect">No. of Days (Select)</label>
                        <select class="form-control" id="daysSelect" name="featured_days">
                            <option selected disabled>Select Days</option>
                            <option value="7">7 Days</option>
                            <option value="15">15 Days</option>
                            <option value="30">30 Days</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="manualDays">Enter Days Manually</label>
                        <input type="number" id="manualDays" class="form-control" name="manual_featured_days" placeholder="Enter number of days">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="startDate">Featured Start Date</label>
                        <input type="date" class="form-control" id="startDate" name="featured_start_date">
                    </div>
                    <div class="col-md-4">
                        <label for="endDate">Featured End Date</label>
                        <input type="date" class="form-control" id="endDate" name="featured_end_date" >
                    </div>
                    <div class="col-md-4">
                        <label for="serviceAmount">Service Amount</label>
                        <input type="number" class="form-control" id="serviceAmount" name="service_amount">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="placement">Placement</label>
                        <select class="form-control" id="placement" name="placement">
                            <option selected disabled>Select</option>
                            <option value="Homepage">Homepage</option>
                            <option value="Sidebar">Sidebar</option>
                            <option value="Listing Top">Listing Top</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="verifiedProperty">Verified Property?</label>
                        <select class="form-control" id="verifiedProperty" name="is_verified">
                            <option value="no" selected>No</option>
                            <option value="yes">Yes (Upload Following Documents)</option>
                        </select>
                    </div>
                </div>
                <div class="row mb-3" id="documents-section" style="display:none;">
                    <div class="col-md-4">
                        <label>Registry Copy / Sale Deed</label>
                        <input class="form-control" type="file" name="upload_registry">
                    </div>
                    <div class="col-md-4">
                        <label>House Tax Receipt</label>
                        <input class="form-control" type="file" name="upload_house_tax">
                    </div>
                    <div class="col-md-4">
                        <label>Electricity Bill / Water Bill</label>
                        <input class="form-control" type="file" name="upload_utility_bill">
                    </div>
                    <div class="col-md-4">
                        <label>Aadhar Card of Owner</label>
                        <input class="form-control" type="file" name="upload_aadhar">
                    </div>
                    <div class="col-md-4">
                        <label>PAN Card / Govt ID</label>
                        <input class="form-control" type="file" name="upload_pan">
                    </div>
                    <div class="col-md-4">
                        <label>Latest “Aakhiv Patrika” / Index 2</label>
                        <input class="form-control" type="file" name="upload_index2">
                    </div>
                </div>
            </div>
        </div>

<!-- Brokerage Section -->
<div class="card mb-3 border-warning">
  <div class="card-header bg-primary text-white">Brokerage Details</div>
  <div class="card-body">
    <div class="row mb-3">
      <!-- Is Brokerage Applicable -->
      <div class="col-md-4">
        <label>Brokerage Applicable?</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="brokerage_applicable" id="brokerageYes" value="Yes">
          <label class="form-check-label" for="brokerageYes">Yes</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="brokerage_applicable" id="brokerageNo" value="No">
          <label class="form-check-label" for="brokerageNo">No</label>
        </div>
      </div>

      <!-- Brokerage Details -->
      <div id="brokerageDetails" style="display:none; margin-top: 10px;">
        <div class="col-md-4 mb-2">
          <label for="brokeragePayer">Brokerage Payer</label>
          <select class="form-control" id="brokeragePayer" name="brokeragePayer">
            <option value="">-- Select Payer --</option>
            <option value="Landlord">Landlord</option>
            <option value="Tenant">Tenant</option>
            <option value="Broker">Broker</option>
            <option value="RM">RM</option>
            <option value="Admin">Admin</option>
            <option value="SuperAdmin">Super Admin</option>
          </select>
        </div>
        <div class="col-md-4 mb-2">
          <label for="brokerageType">Brokerage Type</label>
          <select class="form-control" id="brokerageType" name="brokerageType">
            <option value="">-- Select Type --</option>
            <option value="Monthly Rent">Monthly Rent</option>
            <option value="Percentage">Percentage (%)</option>
            <option value="Fixed Amount">Fixed Amount</option>
          </select>
        </div>
        <div class="col-md-4 mb-2" id="brokerageValueDiv">
          <label for="brokerageValue">Brokerage Value</label>
          <input type="number" step="0.01" min="0" class="form-control" id="brokerageValue" name="brokerageValue" placeholder="Enter amount or %">
        </div>
        <div class="col-md-4 mb-2" id="percentageExtraDiv" style="display:none;">
          <label for="percentageExtra">Extra Field for %</label>
          <input type="number" step="0.01" min="0" class="form-control" id="percentageExtra" name="percentageExtra" placeholder="Enter extra % details">
        </div>
        <div class="col-md-12">
          <label for="brokerageDescription">Brokerage Description (Optional)</label>
          <textarea class="form-control" id="brokerageDescription" name="brokerageDescription"></textarea>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Exclusive Property -->
<div class="form-check mb-3">
  <input class="form-check-input" type="checkbox" id="exclusive_property" name="exclusive_property">
  <label class="form-check-label" for="exclusive_property">Exclusive Property</label>
</div>

<!-- Upload Video -->
<div class="form-check mb-3">
  <input class="form-check-input" type="checkbox" id="upload_video" name="upload_video">
  <label class="form-check-label" for="upload_video">Do you want to upload a video?</label>
</div>

<div id="videoSection" style="display:none; margin-top:10px;">
  <!-- Video URL -->
  <div class="mb-2">
    <label for="video_url">Video URL</label>
    <input type="url" class="form-control" id="video_url" name="video_url" placeholder="Enter video URL">
  </div>

  <!-- Upload Platforms -->
  <label>Upload Platforms</label><br>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="checkbox" name="video_platforms[]" value="YouTube" id="platformYoutube">
    <label class="form-check-label" for="platformYoutube">YouTube</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="checkbox" name="video_platforms[]" value="Instagram" id="platformInstagram">
    <label class="form-check-label" for="platformInstagram">Instagram</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="checkbox" name="video_platforms[]" value="Facebook" id="platformFacebook">
    <label class="form-check-label" for="platformFacebook">Facebook</label>
  </div>

  <!-- Video Duration -->
  <div class="mt-3">
    <label>Video Duration</label>
    <div class="row">
      <div class="col-md-6 mb-2">
        <label for="video_from">From Date</label>
        <input type="date" class="form-control" id="video_from" name="video_from">
      </div>
      <div class="col-md-6 mb-2">
        <label for="video_to">To Date</label>
        <input type="date" class="form-control" id="video_to" name="video_to">
      </div>
    </div>
  </div>
</div>




<!-- Nearby Facilities & Amenities -->
<div class="card mb-3 border-secondary">
    <div class="card-header bg-primary text-white">Nearby Facilities & Amenities</div>
    <div class="card-body">
        <div class="row mb-3">
            <!-- Nearby Facilities -->
            <div class="col-md-6">
                <label>Nearby Facilities</label><br>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="nearby_facilities[]" value="School" id="facilitySchool">
                    <label class="form-check-label" for="facilitySchool">School</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="nearby_facilities[]" value="Hospital" id="facilityHospital">
                    <label class="form-check-label" for="facilityHospital">Hospital</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="nearby_facilities[]" value="Market" id="facilityMarket">
                    <label class="form-check-label" for="facilityMarket">Market</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="nearby_facilities[]" value="Metro" id="facilityMetro">
                    <label class="form-check-label" for="facilityMetro">Metro</label>
                </div>
            </div>

            <!-- Amenities -->
            <div class="col-md-6">
                <label>Amenities</label><br>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities[]" value="Gym" id="amenityGym">
                    <label class="form-check-label" for="amenityGym">Gym</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities[]" value="Swimming Pool" id="amenityPool">
                    <label class="form-check-label" for="amenityPool">Swimming Pool</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities[]" value="Park" id="amenityPark">
                    <label class="form-check-label" for="amenityPark">Park</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities[]" value="Club House" id="amenityClub">
                    <label class="form-check-label" for="amenityClub">Club House</label>
                </div>
            </div>
        </div>
    </div>
</div>

        <!-- Brokerage Section -->

<!-- JavaScript to handle dynamic fields -->

        <!-- Submit Button -->
        <div class="card-footer">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>

    </form>
</div>

<script>
  const uploadVideoCheckbox = document.getElementById('upload_video');
  const videoSection = document.getElementById('videoSection');

  uploadVideoCheckbox.addEventListener('change', function() {
    videoSection.style.display = this.checked ? 'block' : 'none';
  });
</script>

<script>
  // Show/hide brokerage details based on Yes/No
  const brokerageRadios = document.querySelectorAll('input[name="brokerage_applicable"]');
  const brokerageDetails = document.getElementById('brokerageDetails');
  const brokerageType = document.getElementById('brokerageType');
  const percentageExtraDiv = document.getElementById('percentageExtraDiv');

  brokerageRadios.forEach(radio => {
    radio.addEventListener('change', function() {
      if (this.value === 'Yes') {
        brokerageDetails.style.display = 'flex';
        brokerageDetails.style.flexWrap = 'wrap';
      } else {
        brokerageDetails.style.display = 'none';
        percentageExtraDiv.style.display = 'none';
        brokerageType.value = '';
      }
    });
  });

  // Show extra input if "Percentage" is selected
  brokerageType.addEventListener('change', function() {
    if (this.value === 'Percentage') {
      percentageExtraDiv.style.display = 'block';
    } else {
      percentageExtraDiv.style.display = 'none';
    }
  });
</script>


<script>
    // Show featured fields
    document.getElementById('featuredSelect').addEventListener('change', function() {
        if (this.value === 'Yes') {
            document.getElementById('featuredFields').style.display = 'block';
        } else {
            document.getElementById('featuredFields').style.display = 'none';
        }
    });

    // Show documents section if verified
    document.getElementById('verifiedProperty').addEventListener('change', function() {
        document.getElementById('documents-section').style.display = this.value === 'yes' ? 'block' : 'none';
    });

    // Automatically calculate Featured End Date
    document.getElementById('daysSelect').addEventListener('change', function() {
        const startDate = document.getElementById('startDate').value;
        const days = parseInt(this.value);
        if(startDate && days) {
            const start = new Date(startDate);
            start.setDate(start.getDate() + days);
            const yyyy = start.getFullYear();
            const mm = String(start.getMonth() + 1).padStart(2,'0');
            const dd = String(start.getDate()).padStart(2,'0');
            document.getElementById('endDate').value = `${yyyy}-${mm}-${dd}`;
        }
    });
</script>

</body>
</html>
